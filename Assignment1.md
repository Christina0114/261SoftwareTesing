### Jsoup Introduction

[Jsoup](https://jsoup.org/) is a HTML parser developed in Java. The total number of LOC is 39K. The main Functions are below:

- parse HTML from URL, File and strings.   

- output tidy HTML 

- use DOm traversal or CSS selectors to find data

- manipulate the HTML elements, attributes, and text

- clean user-submitted content against a safelist, to prevent XSS attacks

### Building

##### Requirement:

- Java 8 or newer versions

- Elicpse or IntelliJ

- JUNIT 5.8.2

- Other libraries in ```pox.xml```

We fork the [Jsoup](https://github.com/jhy/jsoup/) repository in GitHub. And import the repository to our private repository. Then we git clone our repository locally.

```shell
git clone https://github.com/jhy/jsoup.git
cd jsoup
mvn install
```

That will run the unit and integration tests. We can also use the command line below to test the existing test files. This example is to test parsing attributes.

```
mvn test -D test=org.jsoup.parser.AttributeParseTest
```

### Existing Test Files

##### How to run test files?

we use this command line to show the test files in java

```
find . -print | sed -e 's;*/;|____;g;s;____|; |;g'
```

The structure of test files shows below:

![](/Users/chenwenjun/workplace/261SoftwareTesing/image/img.png)

The original project uses Junit Test. Here we use the maven test command line to test all files. 

### Explore Existing Test Cases

From Jsoup website, Jsoup has six main packages and each package has their own test cases:

| [**org.jsoup.helper**](https://jsoup.org/apidocs/org/jsoup/helper/package-summary.html)     | Package containing classes supporting the core jsoup code.        |
| ------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| [**org.jsoup.internal**](https://jsoup.org/apidocs/org/jsoup/internal/package-summary.html) | Util methods used by Jsoup.                                       |
| [**org.jsoup.nodes**](https://jsoup.org/apidocs/org/jsoup/nodes/package-summary.html)       | HTML document structure nodes.                                    |
| [**org.jsoup.parser**](https://jsoup.org/apidocs/org/jsoup/parser/package-summary.html)     | Contains the HTML parser, tag specifications, and HTML tokeniser. |
| [**org.jsoup.safety**](https://jsoup.org/apidocs/org/jsoup/safety/package-summary.html)     | Contains the jsoup HTML cleaner, and safelist definitions.        |
| [**org.jsoup.select**](https://jsoup.org/apidocs/org/jsoup/select/package-summary.html)     | Packages to support the CSS-style element selector.               |

The existing test cases test the functionalities of the library. It belongs to the "Black Box Testing"( also  called Functional Testing).It derives the test cases from program specifications. Here, the test cases are not randomly choose. They are systematic. From the class learned, Functional Testing uses the specification (formal or  
informal) to partition the input space. And the existing test files test each categroy even boundaries.

 We don't need to test the internal function and understand it works. Given the input and the expected out put, we only need to check if the output generated by the library meets our expectation. This makes it possible to identify how the system responds to expected and unexpected user actions, its response time, usability issues and reliability issues. 

Pick some test cases in the  TagTest for example:

```java
@Test public void defaultSemantics() {
        Tag foo = Tag.valueOf("FOO"); // not defined
        Tag foo2 = Tag.valueOf("FOO");

        assertEquals(foo, foo2);
        assertTrue(foo.isInline());
        assertTrue(foo.formatAsBlock());
    }

    @Test public void valueOfChecksNotNull() {
        assertThrows(IllegalArgumentException.class, () -> Tag.valueOf(null));
    }

    @Test public void valueOfChecksNotEmpty() {
        assertThrows(IllegalArgumentException.class, () -> Tag.valueOf(" "));
    }

    @Test public void knownTags() {
        assertTrue(Tag.isKnownTag("div"));
        assertFalse(Tag.isKnownTag("explain"));
    }
@MultiLocaleTest
    public void canBeInsensitive(Locale locale) {
        Locale.setDefault(locale);

        Tag script1 = Tag.valueOf("script", ParseSettings.htmlDefault);
        Tag script2 = Tag.valueOf("SCRIPT", ParseSettings.htmlDefault);
        assertSame(script1, script2);
    }
```

An HTML tag is a piece of markup language used to indicate the beginning and end of an [HTML element](https://www.digitalocean.com/community/tutorials/what-is-an-html-element) in an HTML document. Here, it tests the boundary values like null and empty. And also it tests if the ```Tag``` is sensitvie to upper case and lower case.



Besides, it has an integration test for the purposes of testing timeouts and interrupts.

Integration testing defined as a type of testing where software modules are integrated logically and tested as a group.
